<?php
// $Id$

function story_help() {
 ?>
  <P>Queued stories: user-contributed stories are automatically whisked away to a submission queue for moderators (i.e. registered user) to frown at.  Moderators vote whether or not a story should be posted to the front page for discussion.</P>
  <P>Posted stories: published stories accessible to all visitors.</P>
  <P>Dumped stories: rejected stories that are no longer available to visitors.</P>
 <?php
}

function story_form($node) {

  $output = form_textarea(t("Body"), "body", $node->body, 60, 15, t("Allowed HTML tags") .": ". htmlspecialchars(variable_get("allowed_html", "")));

  return $output;
}

function story_save($node) {
  if ($node->nid) {
    if (user_access("administer nodes")) {
      return array();
    }
    else {
      return 0;
    }
  }
  else {
    /*
    ** By default, stories get promoted to the front page and they are
    ** subject to moderation.
    */
    return array("promote" => 1, "moderate" => 1);
  }
}

?>
